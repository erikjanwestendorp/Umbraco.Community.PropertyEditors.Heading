{"version":3,"file":"heading-value.component-CV-4mR9N.js","sources":["../../Umbraco.Community.PropertyEditors.Heading.Client/TextboxHeading/src/ufm/components/heading-value.element.ts","../../Umbraco.Community.PropertyEditors.Heading.Client/TextboxHeading/src/ufm/components/heading-value.component.ts"],"sourcesContent":["import { UmbUfmElementBase, UMB_UFM_RENDER_CONTEXT } from '@umbraco-cms/backoffice/ufm';\r\nimport { customElement, property } from '@umbraco-cms/backoffice/external/lit';\r\n\r\nconst elementName = 'ufm-heading-value';\r\n\r\n@customElement(elementName)\r\nexport class UmbUfmHeadingValueElement extends UmbUfmElementBase {\r\n  @property({ type: String }) alias: string | null = null;\r\n  @property({ type: String }) prefix: string | null = null;\r\n\r\n  constructor() {\r\n    super();\r\n    this.consumeContext(UMB_UFM_RENDER_CONTEXT, (context) => {\r\n      if (!context) return;\r\n\r\n      this.observe(context.value, (value) => {\r\n        const extracted =\r\n          this.alias && typeof value === 'object' && value !== null\r\n            ? (value as Record<string, unknown>)[this.alias]\r\n            : (value as any)?.title?.text ?? value;\r\n\r\n        const text = this.toDisplayString(extracted);\r\n        this.value = text ? `${this.prefix ?? ''}${text}` : '';\r\n      }, 'observeValue');\r\n    });\r\n  }\r\n\r\n  private toDisplayString(v: unknown): string {\r\n    if (v == null) return '';\r\n    if (typeof v === 'string') return v.trim();\r\n    if (typeof v === 'number' || typeof v === 'boolean') return String(v);\r\n    const candidate = (v as any)?.text ?? (v as any)?.value;\r\n    return typeof candidate === 'string' ? candidate.trim() : '';\r\n  }\r\n}\r\n\r\nexport { UmbUfmHeadingValueElement as element };\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    [elementName]: UmbUfmHeadingValueElement;\r\n  }\r\n}","import { UmbUfmComponentBase, UfmToken } from '@umbraco-cms/backoffice/ufm';\r\nimport './heading-value.element.js';\r\n\r\nexport class HeadingUfmComponentApi extends UmbUfmComponentBase {\r\n  render(token: UfmToken) {\r\n    if (!token.text) return;\r\n\r\n    const attributes = super.getAttributes(token.text);\r\n    return `<ufm-heading-value ${attributes}></ufm-heading-value>`;\r\n  }\r\n}\r\n\r\nexport { HeadingUfmComponentApi as api };"],"names":["elementName","UmbUfmHeadingValueElement","UmbUfmElementBase","UMB_UFM_RENDER_CONTEXT","context","value","extracted","_a","text","v","candidate","__decorateClass","property","customElement","HeadingUfmComponentApi","UmbUfmComponentBase","token"],"mappings":";;;;;;;AAGA,MAAMA,IAAc;AAGb,IAAMC,IAAN,cAAwCC,EAAkB;AAAA,EAI/D,cAAc;AACZ,UAAA,GAJ0B,KAAA,QAAuB,MACvB,KAAA,SAAwB,MAIlD,KAAK,eAAeC,GAAwB,CAACC,MAAY;AACvD,MAAKA,KAEL,KAAK,QAAQA,EAAQ,OAAO,CAACC,MAAU;;AACrC,cAAMC,IACJ,KAAK,SAAS,OAAOD,KAAU,YAAYA,MAAU,OAChDA,EAAkC,KAAK,KAAK,MAC5CE,IAAAF,KAAA,gBAAAA,EAAe,UAAf,gBAAAE,EAAsB,SAAQF,GAE/BG,IAAO,KAAK,gBAAgBF,CAAS;AAC3C,aAAK,QAAQE,IAAO,GAAG,KAAK,UAAU,EAAE,GAAGA,CAAI,KAAK;AAAA,MAAA,GACnD,cAAc;AAAA,IAAA,CAClB;AAAA,EAAA;AAAA,EAGK,gBAAgBC,GAAoB;AAC1C,QAAIA,KAAK,KAAM,QAAO;AACtB,QAAI,OAAOA,KAAM,SAAU,QAAOA,EAAE,KAAA;AACpC,QAAI,OAAOA,KAAM,YAAY,OAAOA,KAAM,UAAW,QAAO,OAAOA,CAAC;AACpE,UAAMC,KAAaD,KAAA,gBAAAA,EAAW,UAASA,KAAA,gBAAAA,EAAW;AAClD,WAAO,OAAOC,KAAc,WAAWA,EAAU,SAAS;AAAA,EAAA;AAE9D;AA3B8BC,EAAA;AAAA,EAA3BC,EAAS,EAAE,MAAM,OAAA,CAAQ;AAAA,GADfX,EACiB,WAAA,SAAA,CAAA;AACAU,EAAA;AAAA,EAA3BC,EAAS,EAAE,MAAM,OAAA,CAAQ;AAAA,GAFfX,EAEiB,WAAA,UAAA,CAAA;AAFjBA,IAANU,EAAA;AAAA,EADNE,EAAcb,CAAW;AAAA,GACbC,CAAA;ACHN,MAAMa,UAA+BC,EAAoB;AAAA,EAC9D,OAAOC,GAAiB;AACtB,WAAKA,EAAM,OAGJ,sBADY,MAAM,cAAcA,EAAM,IAAI,CACV,0BAHtB;AAAA,EAGsB;AAE3C;"}